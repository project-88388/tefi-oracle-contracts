import generate from '@babel/generator';
import * as t from '@babel/types';
import query_msg from './../../../__fixtures__/basic/query_msg.json';
import { createReactQueryHooks } from './react-query';

const expectCode = ast => {
  expect(generate(ast).code).toMatchSnapshot();
};

const printCode = ast => {
  console.log(generate(ast).code);
}; // it('createReactQueryHook', () => {
//   printCode(createReactQueryHook({
//     methodName: 'allNftInfo',
//     hookName: 'useSg721AllNftInfoQuery',
//     hookParamsTypeName: 'Sg721CollectionInfoQuery',
//     responseType: 'AllNftInfoResponse',
//     hookKeyName: 'Sg721AllNftInfo'
//   }))
// });


it('createReactQueryHooks', () => {
  expectCode(t.program(createReactQueryHooks(query_msg, 'Sg721', 'Sg721QueryClient')));
  expectCode(t.program(createReactQueryHooks(query_msg, 'Sg721', 'Sg721QueryClient')));
});